---
phase: 14-testing-launch
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/admin/tsconfig.json
  - apps/admin/package.json
autonomous: true
---

<objective>
Verify build quality and fix any TypeScript or build issues before production deployment.

Purpose: Ensure the codebase is production-ready with no type errors or build warnings.
Output: Clean production build with all type checks passing.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Project structure:
@C:/Users/Jake/home-care-os/apps/admin/package.json
@C:/Users/Jake/home-care-os/apps/admin/tsconfig.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run TypeScript strict check</name>
  <files>apps/admin/</files>
  <action>
Run TypeScript compiler in strict mode to check for any type errors:

1. Run: `cd apps/admin && npx tsc --noEmit`
2. If errors found, fix them in order of severity
3. Common fixes needed:
   - Add missing type annotations
   - Fix any `any` types that should be specific
   - Resolve null/undefined handling issues
   - Fix import/export mismatches

Focus on errors only - warnings can be addressed later.
  </action>
  <verify>`cd apps/admin && npx tsc --noEmit` exits with code 0</verify>
  <done>TypeScript compilation passes with no errors</done>
</task>

<task type="auto">
  <name>Task 2: Run production build</name>
  <files>apps/admin/</files>
  <action>
Run production build and verify it completes successfully:

1. Run: `cd apps/admin && npm run build`
2. Check for any build errors or warnings
3. If warnings exist, evaluate if they need fixing:
   - Critical warnings (security, deprecated APIs) → fix
   - Minor warnings (unused variables) → note for later
4. Verify build output exists in `apps/admin/dist/`
5. Check bundle sizes are reasonable (main chunk < 500KB)

Record build stats for SUMMARY.md.
  </action>
  <verify>`cd apps/admin && npm run build` succeeds and dist/ contains index.html</verify>
  <done>Production build completes with no errors, dist/ folder populated</done>
</task>

<task type="auto">
  <name>Task 3: Verify Edge Functions</name>
  <files>supabase/functions/</files>
  <action>
Verify all Supabase Edge Functions are valid:

1. List all edge functions:
   - generate-equipment-maintenance/
   - generate-report-summary/
   - create-payment-link/
   - stripe-webhook/
   - send-email/

2. For each function, verify:
   - index.ts exists and exports Deno.serve handler
   - No TypeScript errors (Deno check)
   - Dependencies are properly imported from deno.land or esm.sh

3. Run: `cd supabase && supabase functions list` (if Supabase CLI available)

Note any functions that need attention.
  </action>
  <verify>All edge function index.ts files exist and have valid Deno syntax</verify>
  <done>All 5 edge functions verified as valid</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd apps/admin && npx tsc --noEmit` passes
- [ ] `cd apps/admin && npm run build` succeeds
- [ ] dist/ folder contains built assets
- [ ] All edge functions have valid index.ts files
</verification>

<success_criteria>
- All tasks completed
- No TypeScript errors
- Production build succeeds
- Edge functions validated
</success_criteria>

<output>
After completion, create `.planning/phases/14-testing-launch/14-01-SUMMARY.md`
</output>
