---
phase: 14-testing-launch
plan: 03
type: execute
wave: 3
depends_on: ["14-02"]
files_modified:
  - vercel.json
autonomous: false
user_setup:
  - service: vercel
    why: "Deploy admin app to production"
    account_setup:
      - url: "https://vercel.com/signup"
        skip_if: "Already have Vercel account"
    local_dev:
      - "npm i -g vercel (if not installed)"
      - "vercel login"
---

<objective>
Deploy the Home Care OS admin application to Vercel production.

Purpose: Make the application accessible on the internet for Ross Built team.
Output: Live production URL with deployed application.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Prior plan outputs:
@.planning/phases/14-testing-launch/14-01-SUMMARY.md
@.planning/phases/14-testing-launch/14-02-SUMMARY.md
@.planning/phases/14-testing-launch/DEPLOYMENT.md

Build configuration:
@C:/Users/Jake/home-care-os/apps/admin/vite.config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Vercel configuration</name>
  <files>apps/admin/vercel.json</files>
  <action>
Create Vercel configuration for SPA routing:

```json
{
  "buildCommand": "npm run build",
  "outputDirectory": "dist",
  "framework": "vite",
  "rewrites": [
    { "source": "/(.*)", "destination": "/index.html" }
  ]
}
```

This ensures:
- Vite build command is used
- Output from dist/ directory
- SPA routing works (all routes serve index.html)
  </action>
  <verify>vercel.json exists in apps/admin/</verify>
  <done>Vercel configuration created for SPA deployment</done>
</task>

<task type="auto">
  <name>Task 2: Deploy to Vercel</name>
  <files>apps/admin/</files>
  <action>
Deploy the admin app to Vercel:

1. Run: `cd apps/admin && vercel --yes`
2. If prompted for project setup:
   - Link to existing project or create new
   - Project name: home-care-os-admin
   - Framework: Vite
   - Build command: npm run build
   - Output directory: dist
3. Capture the deployment URL

Note: This creates a preview deployment. Production deployment follows after verification.

If Vercel CLI not authenticated, this will trigger an auth gate.
  </action>
  <verify>Vercel deployment succeeds and returns a URL</verify>
  <done>Preview deployment live at Vercel URL</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Deployed Home Care OS admin app to Vercel preview</what-built>
  <how-to-verify>
    1. Visit the Vercel preview URL provided
    2. Verify the login page loads
    3. Note: Login won't work yet without environment variables
    4. Check browser console for any critical errors
    5. Verify assets load (CSS, images)
  </how-to-verify>
  <resume-signal>Type "approved" if the app loads, or describe any issues</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Deploy to production</name>
  <files>apps/admin/</files>
  <action>
After preview verification, deploy to production:

1. Run: `cd apps/admin && vercel --prod`
2. Capture the production URL
3. Note: Environment variables must be set in Vercel Dashboard for full functionality

Production URL format: https://home-care-os-admin.vercel.app (or custom domain)
  </action>
  <verify>Production deployment succeeds</verify>
  <done>Production deployment live</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] vercel.json created
- [ ] Preview deployment successful
- [ ] User verified preview loads
- [ ] Production deployment successful
</verification>

<success_criteria>
- All tasks completed
- App deployed to Vercel production
- Production URL accessible
</success_criteria>

<output>
After completion, create `.planning/phases/14-testing-launch/14-03-SUMMARY.md`

Include the production URL in the summary.
</output>
