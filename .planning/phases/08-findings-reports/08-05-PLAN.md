---
phase: 08-findings-reports
plan: 05
type: execute
wave: 3
depends_on: ["08-02", "08-04"]
files_modified:
  - apps/admin/src/components/reports/report-preview.tsx
  - apps/admin/src/components/reports/generate-report-dialog.tsx
  - apps/admin/src/components/reports/report-status-badge.tsx
  - apps/admin/src/components/reports/findings-summary-card.tsx
autonomous: true
must_haves:
  truths:
    - "Report preview shows formatted content"
    - "Generate dialog allows options selection"
    - "Status badge shows report state"
  artifacts:
    - path: "apps/admin/src/components/reports/report-preview.tsx"
      provides: "In-browser report preview component"
    - path: "apps/admin/src/components/reports/generate-report-dialog.tsx"
      provides: "Dialog for configuring and generating reports"
    - path: "apps/admin/src/components/reports/report-status-badge.tsx"
      provides: "Report status indicator"
    - path: "apps/admin/src/components/reports/findings-summary-card.tsx"
      provides: "Summary card for inspection findings"
  key_links:
    - from: "generate-report-dialog.tsx"
      to: "lib/pdf/generate-pdf.ts"
      via: "generateAndSaveReport function"
---

<objective>
Create React UI components for report viewing and generation.

Purpose: Provide user interface for generating and previewing reports.
Output: Report UI components for admin dashboard.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Report types and hooks
@apps/admin/src/lib/types/report.ts
@apps/admin/src/hooks/use-reports.ts
@apps/admin/src/lib/pdf/generate-pdf.ts

# UI component patterns
@apps/admin/src/components/ui/dialog.tsx
@apps/admin/src/components/ui/badge.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create report status badge</name>
  <files>apps/admin/src/components/reports/report-status-badge.tsx</files>
  <action>
Create apps/admin/src/components/reports/report-status-badge.tsx:

```tsx
import { FileText, Clock, CheckCircle, Send, Eye, Loader2 } from 'lucide-react'
import { Badge } from '@/components/ui/badge'
import { cn } from '@/lib/utils'
import type { ReportStatus } from '@/lib/types/report'

const STATUS_CONFIG: Record<
  ReportStatus,
  {
    label: string
    icon: typeof FileText
    variant: 'default' | 'secondary' | 'outline' | 'destructive' | 'success' | 'warning'
  }
> = {
  pending: {
    label: 'Not Generated',
    icon: FileText,
    variant: 'outline',
  },
  generating: {
    label: 'Generating...',
    icon: Loader2,
    variant: 'secondary',
  },
  ready: {
    label: 'Ready',
    icon: CheckCircle,
    variant: 'success',
  },
  sent: {
    label: 'Sent',
    icon: Send,
    variant: 'default',
  },
  viewed: {
    label: 'Viewed',
    icon: Eye,
    variant: 'default',
  },
}

interface ReportStatusBadgeProps {
  status: ReportStatus
  className?: string
  showIcon?: boolean
}

export function ReportStatusBadge({
  status,
  className,
  showIcon = true,
}: ReportStatusBadgeProps) {
  const config = STATUS_CONFIG[status]
  const Icon = config.icon

  return (
    <Badge variant={config.variant} className={cn('gap-1.5', className)}>
      {showIcon && (
        <Icon
          className={cn(
            'h-3 w-3',
            status === 'generating' && 'animate-spin'
          )}
        />
      )}
      {config.label}
    </Badge>
  )
}

// Simpler version for tables
export function ReportStatusDot({ status }: { status: ReportStatus }) {
  const colorMap: Record<ReportStatus, string> = {
    pending: 'bg-gray-400',
    generating: 'bg-yellow-400 animate-pulse',
    ready: 'bg-green-500',
    sent: 'bg-blue-500',
    viewed: 'bg-purple-500',
  }

  return (
    <span
      className={cn('inline-block w-2 h-2 rounded-full', colorMap[status])}
      title={STATUS_CONFIG[status].label}
    />
  )
}
```
  </action>
  <verify>TypeScript compiles: cd apps/admin && npx tsc --noEmit</verify>
  <done>Report status badge component</done>
</task>

<task type="auto">
  <name>Task 2: Create findings summary card</name>
  <files>apps/admin/src/components/reports/findings-summary-card.tsx</files>
  <action>
Create apps/admin/src/components/reports/findings-summary-card.tsx:

```tsx
import { CheckCircle, XCircle, AlertTriangle, AlertOctagon, MinusCircle } from 'lucide-react'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { cn } from '@/lib/utils'
import type { ReportFindingSummary } from '@/lib/types/report'

interface FindingsSummaryCardProps {
  summary: ReportFindingSummary
  className?: string
}

export function FindingsSummaryCard({ summary, className }: FindingsSummaryCardProps) {
  const items = [
    {
      label: 'Passed',
      count: summary.passed,
      icon: CheckCircle,
      color: 'text-green-600',
      bgColor: 'bg-green-100',
    },
    {
      label: 'Failed',
      count: summary.failed,
      icon: XCircle,
      color: 'text-red-600',
      bgColor: 'bg-red-100',
    },
    {
      label: 'Attention',
      count: summary.needs_attention,
      icon: AlertTriangle,
      color: 'text-yellow-600',
      bgColor: 'bg-yellow-100',
    },
    {
      label: 'Urgent',
      count: summary.urgent,
      icon: AlertOctagon,
      color: 'text-red-700',
      bgColor: 'bg-red-200',
    },
    {
      label: 'N/A',
      count: summary.not_applicable,
      icon: MinusCircle,
      color: 'text-gray-500',
      bgColor: 'bg-gray-100',
    },
  ]

  const issueCount = summary.failed + summary.needs_attention + summary.urgent
  const hasIssues = issueCount > 0

  return (
    <Card className={className}>
      <CardHeader className="pb-3">
        <div className="flex items-center justify-between">
          <CardTitle className="text-base">Findings Summary</CardTitle>
          <span className="text-sm text-muted-foreground">
            {summary.completion_percentage}% complete
          </span>
        </div>
      </CardHeader>
      <CardContent>
        {/* Progress bar */}
        <div className="mb-4">
          <div className="h-2 bg-muted rounded-full overflow-hidden">
            <div
              className={cn(
                'h-full transition-all',
                hasIssues ? 'bg-yellow-500' : 'bg-green-500'
              )}
              style={{ width: `${summary.completion_percentage}%` }}
            />
          </div>
          <p className="text-xs text-muted-foreground mt-1">
            {summary.total_items} items inspected
          </p>
        </div>

        {/* Status counts */}
        <div className="grid grid-cols-5 gap-2">
          {items.map((item) => {
            const Icon = item.icon
            return (
              <div
                key={item.label}
                className="flex flex-col items-center p-2 rounded-lg"
              >
                <div className={cn('p-1.5 rounded-full mb-1', item.bgColor)}>
                  <Icon className={cn('h-4 w-4', item.color)} />
                </div>
                <span className="text-lg font-semibold">{item.count}</span>
                <span className="text-xs text-muted-foreground">{item.label}</span>
              </div>
            )
          })}
        </div>

        {/* Issue alert */}
        {hasIssues && (
          <div className="mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
            <p className="text-sm text-yellow-800">
              <strong>{issueCount} issue{issueCount > 1 ? 's' : ''}</strong> found
              requiring attention
            </p>
          </div>
        )}
      </CardContent>
    </Card>
  )
}

// Compact version for tables/lists
export function FindingsSummaryInline({ summary }: { summary: ReportFindingSummary }) {
  return (
    <div className="flex items-center gap-3 text-sm">
      <span className="text-green-600">
        <CheckCircle className="h-3.5 w-3.5 inline mr-1" />
        {summary.passed}
      </span>
      {summary.failed > 0 && (
        <span className="text-red-600">
          <XCircle className="h-3.5 w-3.5 inline mr-1" />
          {summary.failed}
        </span>
      )}
      {summary.needs_attention > 0 && (
        <span className="text-yellow-600">
          <AlertTriangle className="h-3.5 w-3.5 inline mr-1" />
          {summary.needs_attention}
        </span>
      )}
      {summary.urgent > 0 && (
        <span className="text-red-700 font-medium">
          <AlertOctagon className="h-3.5 w-3.5 inline mr-1" />
          {summary.urgent}
        </span>
      )}
    </div>
  )
}
```
  </action>
  <verify>TypeScript compiles: cd apps/admin && npx tsc --noEmit</verify>
  <done>Findings summary card component</done>
</task>

<task type="auto">
  <name>Task 3: Create generate report dialog</name>
  <files>apps/admin/src/components/reports/generate-report-dialog.tsx</files>
  <action>
Create apps/admin/src/components/reports/generate-report-dialog.tsx:

```tsx
import { useState } from 'react'
import { FileText, Download, Mail, Loader2, CheckCircle, Sparkles } from 'lucide-react'
import { Button } from '@/components/ui/button'
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from '@/components/ui/dialog'
import { Label } from '@/components/ui/label'
import { Switch } from '@/components/ui/switch'
import { Input } from '@/components/ui/input'
import { useToast } from '@/hooks/use-toast'
import { useBuildReportData } from '@/hooks/use-reports'
import {
  generateAndSaveReport,
  downloadPDF,
  generateAISummary,
} from '@/lib/pdf/generate-pdf'
import { DEFAULT_REPORT_OPTIONS } from '@/lib/constants/report'
import type { ReportGenerationOptions } from '@/lib/types/report'

interface GenerateReportDialogProps {
  inspectionId: string
  open: boolean
  onOpenChange: (open: boolean) => void
  onSuccess?: (reportUrl: string) => void
}

type GenerationStep = 'options' | 'generating' | 'complete'

export function GenerateReportDialog({
  inspectionId,
  open,
  onOpenChange,
  onSuccess,
}: GenerateReportDialogProps) {
  const { toast } = useToast()
  const { data: reportData, isLoading: isLoadingData } = useBuildReportData(inspectionId)

  const [step, setStep] = useState<GenerationStep>('options')
  const [options, setOptions] = useState<ReportGenerationOptions>(DEFAULT_REPORT_OPTIONS)
  const [sendEmail, setSendEmail] = useState(false)
  const [emailTo, setEmailTo] = useState('')
  const [progress, setProgress] = useState(0)
  const [generatedUrl, setGeneratedUrl] = useState<string | null>(null)

  const handleGenerate = async () => {
    if (!reportData) return

    try {
      setStep('generating')
      setProgress(10)

      // Generate AI summary if enabled
      let aiSummary
      if (options.include_ai_summary) {
        setProgress(30)
        try {
          aiSummary = await generateAISummary(reportData)
        } catch (error) {
          console.warn('AI summary failed, continuing without:', error)
        }
      }

      setProgress(50)

      // Generate and upload PDF
      const { reportUrl } = await generateAndSaveReport(reportData, options)
      setProgress(90)

      setGeneratedUrl(reportUrl)
      setStep('complete')
      setProgress(100)

      onSuccess?.(reportUrl)

      toast({
        title: 'Report Generated',
        description: 'Your inspection report has been created successfully.',
      })
    } catch (error) {
      console.error('Report generation failed:', error)
      toast({
        title: 'Generation Failed',
        description: error instanceof Error ? error.message : 'Failed to generate report',
        variant: 'destructive',
      })
      setStep('options')
    }
  }

  const handleDownload = async () => {
    if (!reportData) return

    try {
      await downloadPDF({ report: reportData, options })
      toast({
        title: 'Download Started',
        description: 'Your report is being downloaded.',
      })
    } catch (error) {
      toast({
        title: 'Download Failed',
        description: 'Failed to download report',
        variant: 'destructive',
      })
    }
  }

  const handleClose = () => {
    onOpenChange(false)
    // Reset state after close animation
    setTimeout(() => {
      setStep('options')
      setProgress(0)
      setGeneratedUrl(null)
    }, 200)
  }

  return (
    <Dialog open={open} onOpenChange={handleClose}>
      <DialogContent className="sm:max-w-[500px]">
        <DialogHeader>
          <DialogTitle className="flex items-center gap-2">
            <FileText className="h-5 w-5" />
            Generate Inspection Report
          </DialogTitle>
          <DialogDescription>
            {step === 'options' && 'Configure your report options before generating.'}
            {step === 'generating' && 'Creating your professional inspection report...'}
            {step === 'complete' && 'Your report is ready!'}
          </DialogDescription>
        </DialogHeader>

        {isLoadingData ? (
          <div className="flex items-center justify-center py-8">
            <Loader2 className="h-8 w-8 animate-spin text-muted-foreground" />
          </div>
        ) : step === 'options' ? (
          <div className="space-y-6 py-4">
            {/* Include options */}
            <div className="space-y-4">
              <div className="flex items-center justify-between">
                <div className="space-y-0.5">
                  <Label htmlFor="ai-summary" className="flex items-center gap-2">
                    <Sparkles className="h-4 w-4 text-purple-500" />
                    AI-Enhanced Summary
                  </Label>
                  <p className="text-sm text-muted-foreground">
                    Generate a professional summary using AI
                  </p>
                </div>
                <Switch
                  id="ai-summary"
                  checked={options.include_ai_summary}
                  onCheckedChange={(checked) =>
                    setOptions((prev) => ({ ...prev, include_ai_summary: checked }))
                  }
                />
              </div>

              <div className="flex items-center justify-between">
                <div className="space-y-0.5">
                  <Label htmlFor="photos">Include Photos</Label>
                  <p className="text-sm text-muted-foreground">
                    Add photo documentation to report
                  </p>
                </div>
                <Switch
                  id="photos"
                  checked={options.include_photos}
                  onCheckedChange={(checked) =>
                    setOptions((prev) => ({ ...prev, include_photos: checked }))
                  }
                />
              </div>

              <div className="flex items-center justify-between">
                <div className="space-y-0.5">
                  <Label htmlFor="recommendations">Include Recommendations</Label>
                  <p className="text-sm text-muted-foreground">
                    Add maintenance recommendations
                  </p>
                </div>
                <Switch
                  id="recommendations"
                  checked={options.include_recommendations}
                  onCheckedChange={(checked) =>
                    setOptions((prev) => ({ ...prev, include_recommendations: checked }))
                  }
                />
              </div>

              <div className="flex items-center justify-between">
                <div className="space-y-0.5">
                  <Label htmlFor="weather">Include Weather</Label>
                  <p className="text-sm text-muted-foreground">
                    Show weather conditions at inspection time
                  </p>
                </div>
                <Switch
                  id="weather"
                  checked={options.include_weather}
                  onCheckedChange={(checked) =>
                    setOptions((prev) => ({ ...prev, include_weather: checked }))
                  }
                />
              </div>
            </div>

            {/* Email option */}
            <div className="border-t pt-4">
              <div className="flex items-center justify-between mb-3">
                <div className="space-y-0.5">
                  <Label htmlFor="send-email" className="flex items-center gap-2">
                    <Mail className="h-4 w-4" />
                    Email to Client
                  </Label>
                  <p className="text-sm text-muted-foreground">
                    Send report link via email after generation
                  </p>
                </div>
                <Switch
                  id="send-email"
                  checked={sendEmail}
                  onCheckedChange={setSendEmail}
                />
              </div>

              {sendEmail && (
                <Input
                  type="email"
                  placeholder="client@example.com"
                  value={emailTo}
                  onChange={(e) => setEmailTo(e.target.value)}
                  className="mt-2"
                />
              )}
            </div>
          </div>
        ) : step === 'generating' ? (
          <div className="py-8">
            <div className="flex flex-col items-center">
              <Loader2 className="h-12 w-12 animate-spin text-rb-green mb-4" />
              <p className="text-sm text-muted-foreground mb-4">
                {progress < 30
                  ? 'Preparing report data...'
                  : progress < 50
                  ? 'Generating AI summary...'
                  : progress < 90
                  ? 'Creating PDF document...'
                  : 'Uploading report...'}
              </p>
              <div className="w-full bg-muted rounded-full h-2">
                <div
                  className="bg-rb-green h-2 rounded-full transition-all duration-500"
                  style={{ width: `${progress}%` }}
                />
              </div>
            </div>
          </div>
        ) : (
          <div className="py-8">
            <div className="flex flex-col items-center">
              <div className="w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4">
                <CheckCircle className="h-8 w-8 text-green-600" />
              </div>
              <p className="text-lg font-medium mb-2">Report Generated!</p>
              <p className="text-sm text-muted-foreground text-center mb-4">
                Your professional inspection report is ready to download or share.
              </p>

              <div className="flex gap-3">
                <Button variant="outline" onClick={handleDownload}>
                  <Download className="h-4 w-4 mr-2" />
                  Download PDF
                </Button>
                {generatedUrl && (
                  <Button
                    variant="outline"
                    onClick={() => window.open(generatedUrl, '_blank')}
                  >
                    View Online
                  </Button>
                )}
              </div>
            </div>
          </div>
        )}

        <DialogFooter>
          {step === 'options' && (
            <>
              <Button variant="outline" onClick={handleClose}>
                Cancel
              </Button>
              <Button onClick={handleGenerate} className="bg-rb-green hover:bg-rb-green/90">
                <FileText className="h-4 w-4 mr-2" />
                Generate Report
              </Button>
            </>
          )}
          {step === 'complete' && (
            <Button onClick={handleClose}>Done</Button>
          )}
        </DialogFooter>
      </DialogContent>
    </Dialog>
  )
}
```
  </action>
  <verify>TypeScript compiles: cd apps/admin && npx tsc --noEmit</verify>
  <done>Generate report dialog with options and progress</done>
</task>

<task type="auto">
  <name>Task 4: Create report preview component</name>
  <files>apps/admin/src/components/reports/report-preview.tsx</files>
  <action>
Create apps/admin/src/components/reports/report-preview.tsx:

```tsx
import { format } from 'date-fns'
import {
  FileText,
  Download,
  Send,
  ExternalLink,
  Loader2,
  RefreshCw,
  Calendar,
  User,
  MapPin,
  Thermometer,
} from 'lucide-react'
import { Button } from '@/components/ui/button'
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'
import { Separator } from '@/components/ui/separator'
import { ReportStatusBadge } from './report-status-badge'
import { FindingsSummaryCard } from './findings-summary-card'
import { useBuildReportData } from '@/hooks/use-reports'
import { downloadPDF } from '@/lib/pdf/generate-pdf'
import { CONDITION_LABELS, INSPECTION_TYPE_LABELS } from '@/lib/constants/report'
import type { InspectionReport, ReportStatus } from '@/lib/types/report'
import { cn } from '@/lib/utils'

interface ReportPreviewProps {
  inspectionId: string
  reportUrl?: string | null
  reportGeneratedAt?: string | null
  reportSentAt?: string | null
  onGenerateClick?: () => void
  className?: string
}

export function ReportPreview({
  inspectionId,
  reportUrl,
  reportGeneratedAt,
  reportSentAt,
  onGenerateClick,
  className,
}: ReportPreviewProps) {
  const { data: reportData, isLoading, refetch } = useBuildReportData(inspectionId)

  // Determine report status
  const getStatus = (): ReportStatus => {
    if (!reportUrl) return 'pending'
    if (reportSentAt) return 'sent'
    if (reportGeneratedAt) return 'ready'
    return 'pending'
  }

  const status = getStatus()

  const handleDownload = async () => {
    if (!reportData) return
    await downloadPDF({ report: reportData })
  }

  if (isLoading) {
    return (
      <Card className={className}>
        <CardContent className="flex items-center justify-center py-12">
          <Loader2 className="h-8 w-8 animate-spin text-muted-foreground" />
        </CardContent>
      </Card>
    )
  }

  if (!reportData) {
    return (
      <Card className={className}>
        <CardContent className="flex flex-col items-center justify-center py-12">
          <FileText className="h-12 w-12 text-muted-foreground mb-4" />
          <p className="text-muted-foreground mb-4">Unable to load report data</p>
          <Button variant="outline" onClick={() => refetch()}>
            <RefreshCw className="h-4 w-4 mr-2" />
            Retry
          </Button>
        </CardContent>
      </Card>
    )
  }

  const conditionInfo = reportData.overall_condition
    ? CONDITION_LABELS[reportData.overall_condition]
    : null

  return (
    <Card className={className}>
      <CardHeader className="flex-row items-center justify-between space-y-0">
        <div className="flex items-center gap-3">
          <CardTitle>Inspection Report</CardTitle>
          <ReportStatusBadge status={status} />
        </div>
        <div className="flex items-center gap-2">
          {reportUrl ? (
            <>
              <Button variant="outline" size="sm" onClick={handleDownload}>
                <Download className="h-4 w-4 mr-1" />
                Download
              </Button>
              <Button
                variant="outline"
                size="sm"
                onClick={() => window.open(reportUrl, '_blank')}
              >
                <ExternalLink className="h-4 w-4 mr-1" />
                View
              </Button>
            </>
          ) : (
            <Button size="sm" onClick={onGenerateClick} className="bg-rb-green hover:bg-rb-green/90">
              <FileText className="h-4 w-4 mr-1" />
              Generate Report
            </Button>
          )}
        </div>
      </CardHeader>

      <CardContent className="space-y-6">
        {/* Inspection Info */}
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div>
            <p className="text-sm text-muted-foreground flex items-center gap-1">
              <Calendar className="h-3.5 w-3.5" />
              Date
            </p>
            <p className="font-medium">
              {format(new Date(reportData.inspection_date), 'MMM d, yyyy')}
            </p>
          </div>
          <div>
            <p className="text-sm text-muted-foreground">Type</p>
            <p className="font-medium">
              {INSPECTION_TYPE_LABELS[reportData.inspection_type] || reportData.inspection_type}
            </p>
          </div>
          <div>
            <p className="text-sm text-muted-foreground flex items-center gap-1">
              <User className="h-3.5 w-3.5" />
              Inspector
            </p>
            <p className="font-medium">{reportData.inspector.name}</p>
          </div>
          <div>
            <p className="text-sm text-muted-foreground">Duration</p>
            <p className="font-medium">{reportData.duration_minutes} minutes</p>
          </div>
        </div>

        <Separator />

        {/* Overall Condition */}
        {conditionInfo && (
          <div className="flex items-center gap-4">
            <div>
              <p className="text-sm text-muted-foreground mb-1">Overall Condition</p>
              <span
                className="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"
                style={{
                  backgroundColor: conditionInfo.color + '20',
                  color: conditionInfo.color,
                }}
              >
                {conditionInfo.label}
              </span>
            </div>
            {reportData.weather && (
              <div className="ml-auto flex items-center gap-4 text-sm text-muted-foreground">
                {reportData.weather.temperature && (
                  <span className="flex items-center gap-1">
                    <Thermometer className="h-4 w-4" />
                    {reportData.weather.temperature}°F
                  </span>
                )}
                {reportData.weather.conditions && (
                  <span>{reportData.weather.conditions}</span>
                )}
              </div>
            )}
          </div>
        )}

        {/* Summary */}
        {reportData.summary && (
          <div>
            <p className="text-sm text-muted-foreground mb-2">Inspector Summary</p>
            <p className="text-sm">{reportData.summary}</p>
          </div>
        )}

        <Separator />

        {/* Findings Summary */}
        <FindingsSummaryCard summary={reportData.findings_summary} />

        {/* Recommendations count */}
        {reportData.recommendations.length > 0 && (
          <div className="flex items-center justify-between p-3 bg-muted rounded-lg">
            <span className="text-sm">
              <strong>{reportData.recommendations.length}</strong> recommendation
              {reportData.recommendations.length > 1 ? 's' : ''} included
            </span>
            <span className="text-sm text-muted-foreground">
              {reportData.recommendations.filter((r) => r.priority === 'urgent').length} urgent
            </span>
          </div>
        )}

        {/* Photo count */}
        {reportData.all_photos.length > 0 && (
          <div className="flex items-center justify-between p-3 bg-muted rounded-lg">
            <span className="text-sm">
              <strong>{reportData.all_photos.length}</strong> photo
              {reportData.all_photos.length > 1 ? 's' : ''} documented
            </span>
          </div>
        )}

        {/* Report metadata */}
        {reportGeneratedAt && (
          <div className="text-xs text-muted-foreground">
            Report generated: {format(new Date(reportGeneratedAt), 'MMM d, yyyy h:mm a')}
            {reportSentAt && ` • Sent: ${format(new Date(reportSentAt), 'MMM d, yyyy h:mm a')}`}
          </div>
        )}
      </CardContent>
    </Card>
  )
}
```
  </action>
  <verify>TypeScript compiles: cd apps/admin && npx tsc --noEmit</verify>
  <done>Report preview component with full inspection details</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd apps/admin && npx tsc --noEmit` passes
- [ ] Report status badge shows all states
- [ ] Findings summary displays counts correctly
- [ ] Generate dialog allows option configuration
- [ ] Preview shows full report information
</verification>

<success_criteria>
- All tasks completed
- TypeScript compiles without errors
- Components follow existing UI patterns
- Report generation flow is complete
</success_criteria>

<output>
After completion, create `.planning/phases/08-findings-reports/08-05-SUMMARY.md`
</output>
