# Plan 13-04: Notification UI Components

## Objective

Create UI components for the notification center, including the header dropdown, notification list, preference settings, and activity feed. These components provide the user interface for viewing and managing notifications.

## Prerequisites

- Plan 13-01 complete (Notification Data Foundation)
- Plan 13-02 complete (Email Edge Function)
- Plan 13-03 complete (Notification Hooks)

## Dependencies

- 13-01 (Notification types and constants)
- 13-03 (Notification hooks)

## Tasks

### Task 1: Create notification badge component
**File**: `apps/admin/src/components/notifications/notification-badge.tsx`

```typescript
import { Bell } from 'lucide-react'
import { cn } from '@/lib/utils'
import { useUnreadNotificationCount } from '@/hooks/use-notifications'

interface NotificationBadgeProps {
  className?: string
  showCount?: boolean
  size?: 'sm' | 'md' | 'lg'
}

export function NotificationBadge({
  className,
  showCount = true,
  size = 'md',
}: NotificationBadgeProps) {
  const { data: count = 0 } = useUnreadNotificationCount()

  const sizeClasses = {
    sm: 'h-4 w-4',
    md: 'h-5 w-5',
    lg: 'h-6 w-6',
  }

  const badgeSizeClasses = {
    sm: 'h-3.5 w-3.5 text-[9px] -top-0.5 -right-0.5',
    md: 'h-4 w-4 text-[10px] -top-1 -right-1',
    lg: 'h-5 w-5 text-xs -top-1 -right-1',
  }

  return (
    <div className={cn('relative', className)}>
      <Bell className={cn('text-muted-foreground', sizeClasses[size])} />
      {showCount && count > 0 && (
        <span
          className={cn(
            'absolute flex items-center justify-center rounded-full bg-red-500 text-white font-medium',
            badgeSizeClasses[size]
          )}
        >
          {count > 99 ? '99+' : count}
        </span>
      )}
    </div>
  )
}
```

**Verification**: File exists with notification badge component

### Task 2: Create notification item component
**File**: `apps/admin/src/components/notifications/notification-item.tsx`

```typescript
import { useNavigate } from 'react-router-dom'
import {
  Bell,
  ClipboardCheck,
  Wrench,
  CreditCard,
  AlertTriangle,
  MessageSquare,
  Clock,
  X,
} from 'lucide-react'
import { cn } from '@/lib/utils'
import { Button } from '@/components/ui/button'
import { useMarkNotificationRead, useDeleteNotification } from '@/hooks/use-notifications'
import {
  formatNotificationTime,
  getNotificationColor,
  getPriorityStyles,
} from '@/lib/helpers/notifications'
import type { Notification, NotificationType, PriorityLevel } from '@/lib/types/notification'

interface NotificationItemProps {
  notification: Notification
  onClose?: () => void
  compact?: boolean
}

const iconMap: Record<NotificationType, typeof Bell> = {
  inspection: ClipboardCheck,
  work_order: Wrench,
  payment: CreditCard,
  reminder: Clock,
  alert: AlertTriangle,
  message: MessageSquare,
}

export function NotificationItem({
  notification,
  onClose,
  compact = false,
}: NotificationItemProps) {
  const navigate = useNavigate()
  const markRead = useMarkNotificationRead()
  const deleteNotification = useDeleteNotification()

  const Icon = iconMap[notification.notification_type] || Bell
  const colorClass = getNotificationColor(notification.notification_type)
  const priorityStyles = getPriorityStyles(notification.priority as PriorityLevel ?? 'medium')

  const handleClick = async () => {
    // Mark as read if unread
    if (!notification.is_read) {
      await markRead.mutateAsync(notification.id)
    }

    // Navigate if action URL exists
    if (notification.action_url) {
      navigate(notification.action_url)
      onClose?.()
    }
  }

  const handleDelete = async (e: React.MouseEvent) => {
    e.stopPropagation()
    await deleteNotification.mutateAsync(notification.id)
  }

  return (
    <div
      onClick={handleClick}
      className={cn(
        'group flex gap-3 p-3 cursor-pointer transition-colors rounded-lg',
        notification.is_read
          ? 'bg-background hover:bg-muted/50'
          : 'bg-muted/50 hover:bg-muted',
        compact && 'p-2'
      )}
    >
      {/* Icon */}
      <div
        className={cn(
          'flex-shrink-0 flex items-center justify-center rounded-full',
          compact ? 'h-8 w-8' : 'h-10 w-10',
          notification.is_read ? 'bg-muted' : priorityStyles.bgColor
        )}
      >
        <Icon className={cn('h-4 w-4', colorClass)} />
      </div>

      {/* Content */}
      <div className="flex-1 min-w-0">
        <div className="flex items-start justify-between gap-2">
          <p
            className={cn(
              'text-sm line-clamp-1',
              !notification.is_read && 'font-medium'
            )}
          >
            {notification.title}
          </p>
          {!compact && (
            <Button
              variant="ghost"
              size="icon"
              className="h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity"
              onClick={handleDelete}
            >
              <X className="h-3 w-3" />
            </Button>
          )}
        </div>

        <p className="text-sm text-muted-foreground line-clamp-2 mt-0.5">
          {notification.message}
        </p>

        <div className="flex items-center gap-2 mt-1">
          <span className="text-xs text-muted-foreground">
            {formatNotificationTime(notification.created_at ?? '')}
          </span>

          {!notification.is_read && (
            <span className="h-1.5 w-1.5 rounded-full bg-blue-500" />
          )}

          {notification.priority === 'urgent' && (
            <span className="text-xs text-red-600 font-medium">Urgent</span>
          )}
        </div>
      </div>
    </div>
  )
}
```

**Verification**: File exists with notification item component

### Task 3: Create notification dropdown component
**File**: `apps/admin/src/components/notifications/notification-dropdown.tsx`

```typescript
import { useState, useEffect } from 'react'
import { useNavigate } from 'react-router-dom'
import { Bell, Check, Settings, Loader2 } from 'lucide-react'
import { Button } from '@/components/ui/button'
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu'
import { ScrollArea } from '@/components/ui/scroll-area'
import { Separator } from '@/components/ui/separator'
import { NotificationBadge } from './notification-badge'
import { NotificationItem } from './notification-item'
import {
  useNotifications,
  useUnreadNotificationCount,
  useMarkAllNotificationsRead,
  useNotificationSubscription,
} from '@/hooks/use-notifications'
import { groupNotificationsByDate } from '@/lib/helpers/notifications'
import type { Notification } from '@/lib/types/notification'
import { useToast } from '@/hooks/use-toast'

export function NotificationDropdown() {
  const navigate = useNavigate()
  const { toast } = useToast()
  const [open, setOpen] = useState(false)

  const { data: notifications = [], isLoading } = useNotifications({ limit: 20 })
  const { data: unreadCount = 0 } = useUnreadNotificationCount()
  const markAllRead = useMarkAllNotificationsRead()

  // Group notifications by date
  const groupedNotifications = groupNotificationsByDate(notifications)

  // Real-time subscription
  useEffect(() => {
    const unsubscribe = useNotificationSubscription((notification) => {
      toast({
        title: notification.title,
        description: notification.message,
      })
    })

    return unsubscribe
  }, [toast])

  const handleMarkAllRead = async () => {
    await markAllRead.mutateAsync()
  }

  const handleViewAll = () => {
    setOpen(false)
    navigate('/notifications')
  }

  const handleSettings = () => {
    setOpen(false)
    navigate('/settings/notifications')
  }

  return (
    <DropdownMenu open={open} onOpenChange={setOpen}>
      <DropdownMenuTrigger asChild>
        <Button
          variant="ghost"
          size="icon"
          className="relative"
          aria-label={`Notifications${unreadCount > 0 ? ` (${unreadCount} unread)` : ''}`}
        >
          <NotificationBadge />
        </Button>
      </DropdownMenuTrigger>

      <DropdownMenuContent align="end" className="w-96">
        {/* Header */}
        <div className="flex items-center justify-between p-3 border-b">
          <div className="flex items-center gap-2">
            <h3 className="font-semibold">Notifications</h3>
            {unreadCount > 0 && (
              <span className="text-xs text-muted-foreground">
                {unreadCount} unread
              </span>
            )}
          </div>
          <div className="flex items-center gap-1">
            {unreadCount > 0 && (
              <Button
                variant="ghost"
                size="sm"
                className="h-8 text-xs"
                onClick={handleMarkAllRead}
                disabled={markAllRead.isPending}
              >
                {markAllRead.isPending ? (
                  <Loader2 className="h-3 w-3 animate-spin" />
                ) : (
                  <>
                    <Check className="h-3 w-3 mr-1" />
                    Mark all read
                  </>
                )}
              </Button>
            )}
            <Button
              variant="ghost"
              size="icon"
              className="h-8 w-8"
              onClick={handleSettings}
            >
              <Settings className="h-4 w-4" />
            </Button>
          </div>
        </div>

        {/* Notification list */}
        <ScrollArea className="h-[400px]">
          {isLoading ? (
            <div className="flex items-center justify-center py-8">
              <Loader2 className="h-6 w-6 animate-spin text-muted-foreground" />
            </div>
          ) : notifications.length === 0 ? (
            <div className="flex flex-col items-center justify-center py-8 text-center">
              <Bell className="h-10 w-10 text-muted-foreground/50 mb-3" />
              <p className="text-sm text-muted-foreground">No notifications</p>
              <p className="text-xs text-muted-foreground mt-1">
                You're all caught up!
              </p>
            </div>
          ) : (
            <div className="p-2">
              {Object.entries(groupedNotifications).map(([group, items]) => (
                <div key={group}>
                  <p className="text-xs font-medium text-muted-foreground px-2 py-2">
                    {group}
                  </p>
                  {items.map((notification) => (
                    <NotificationItem
                      key={notification.id}
                      notification={notification}
                      onClose={() => setOpen(false)}
                      compact
                    />
                  ))}
                </div>
              ))}
            </div>
          )}
        </ScrollArea>

        {/* Footer */}
        <Separator />
        <div className="p-2">
          <Button
            variant="ghost"
            className="w-full text-sm"
            onClick={handleViewAll}
          >
            View all notifications
          </Button>
        </div>
      </DropdownMenuContent>
    </DropdownMenu>
  )
}
```

**Verification**: File exists with dropdown component

### Task 4: Create notification preferences form
**File**: `apps/admin/src/components/notifications/notification-preferences.tsx`

```typescript
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { Loader2 } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { Switch } from '@/components/ui/switch'
import {
  Form,
  FormControl,
  FormDescription,
  FormField,
  FormItem,
  FormLabel,
} from '@/components/ui/form'
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'
import { Separator } from '@/components/ui/separator'
import {
  useNotificationPreferences,
  useUpdateNotificationPreferences,
} from '@/hooks/use-notification-preferences'
import { useToast } from '@/hooks/use-toast'
import { CHANNEL_CONFIG } from '@/lib/constants/notifications'
import type { Resolver } from 'react-hook-form'

const preferencesSchema = z.object({
  email: z.boolean(),
  push: z.boolean(),
  sms: z.boolean(),
  inspection_reminders: z.boolean(),
  work_order_updates: z.boolean(),
  payment_alerts: z.boolean(),
  daily_digest: z.boolean(),
  weekly_summary: z.boolean(),
})

type PreferencesFormData = z.infer<typeof preferencesSchema>

export function NotificationPreferences() {
  const { toast } = useToast()
  const { data: preferences, isLoading } = useNotificationPreferences()
  const updatePreferences = useUpdateNotificationPreferences()

  const form = useForm<PreferencesFormData>({
    resolver: zodResolver(preferencesSchema) as Resolver<PreferencesFormData>,
    values: preferences,
  })

  const onSubmit = async (data: PreferencesFormData) => {
    try {
      await updatePreferences.mutateAsync(data)
      toast({
        title: 'Preferences saved',
        description: 'Your notification preferences have been updated.',
      })
    } catch (error) {
      toast({
        title: 'Error',
        description: 'Failed to save preferences. Please try again.',
        variant: 'destructive',
      })
    }
  }

  if (isLoading) {
    return (
      <div className="flex items-center justify-center py-8">
        <Loader2 className="h-6 w-6 animate-spin" />
      </div>
    )
  }

  return (
    <Form {...form}>
      <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-6">
        {/* Channels */}
        <Card>
          <CardHeader>
            <CardTitle>Notification Channels</CardTitle>
            <CardDescription>
              Choose how you want to receive notifications
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            <FormField
              control={form.control}
              name="email"
              render={({ field }) => (
                <FormItem className="flex items-center justify-between rounded-lg border p-4">
                  <div className="space-y-0.5">
                    <FormLabel className="text-base">
                      {CHANNEL_CONFIG.email.label}
                    </FormLabel>
                    <FormDescription>
                      {CHANNEL_CONFIG.email.description}
                    </FormDescription>
                  </div>
                  <FormControl>
                    <Switch
                      checked={field.value}
                      onCheckedChange={field.onChange}
                    />
                  </FormControl>
                </FormItem>
              )}
            />

            <FormField
              control={form.control}
              name="push"
              render={({ field }) => (
                <FormItem className="flex items-center justify-between rounded-lg border p-4">
                  <div className="space-y-0.5">
                    <FormLabel className="text-base">
                      {CHANNEL_CONFIG.push.label}
                    </FormLabel>
                    <FormDescription>
                      {CHANNEL_CONFIG.push.description}
                    </FormDescription>
                  </div>
                  <FormControl>
                    <Switch
                      checked={field.value}
                      onCheckedChange={field.onChange}
                    />
                  </FormControl>
                </FormItem>
              )}
            />

            <FormField
              control={form.control}
              name="sms"
              render={({ field }) => (
                <FormItem className="flex items-center justify-between rounded-lg border p-4">
                  <div className="space-y-0.5">
                    <FormLabel className="text-base">
                      {CHANNEL_CONFIG.sms.label}
                    </FormLabel>
                    <FormDescription>
                      {CHANNEL_CONFIG.sms.description}
                    </FormDescription>
                  </div>
                  <FormControl>
                    <Switch
                      checked={field.value}
                      onCheckedChange={field.onChange}
                    />
                  </FormControl>
                </FormItem>
              )}
            />
          </CardContent>
        </Card>

        {/* Notification Types */}
        <Card>
          <CardHeader>
            <CardTitle>Notification Types</CardTitle>
            <CardDescription>
              Select which types of notifications you want to receive
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            <FormField
              control={form.control}
              name="inspection_reminders"
              render={({ field }) => (
                <FormItem className="flex items-center justify-between rounded-lg border p-4">
                  <div className="space-y-0.5">
                    <FormLabel className="text-base">
                      Inspection Reminders
                    </FormLabel>
                    <FormDescription>
                      Get notified about upcoming inspections
                    </FormDescription>
                  </div>
                  <FormControl>
                    <Switch
                      checked={field.value}
                      onCheckedChange={field.onChange}
                    />
                  </FormControl>
                </FormItem>
              )}
            />

            <FormField
              control={form.control}
              name="work_order_updates"
              render={({ field }) => (
                <FormItem className="flex items-center justify-between rounded-lg border p-4">
                  <div className="space-y-0.5">
                    <FormLabel className="text-base">
                      Work Order Updates
                    </FormLabel>
                    <FormDescription>
                      Receive updates when work orders change status
                    </FormDescription>
                  </div>
                  <FormControl>
                    <Switch
                      checked={field.value}
                      onCheckedChange={field.onChange}
                    />
                  </FormControl>
                </FormItem>
              )}
            />

            <FormField
              control={form.control}
              name="payment_alerts"
              render={({ field }) => (
                <FormItem className="flex items-center justify-between rounded-lg border p-4">
                  <div className="space-y-0.5">
                    <FormLabel className="text-base">
                      Payment Alerts
                    </FormLabel>
                    <FormDescription>
                      Get notified about invoices and payments
                    </FormDescription>
                  </div>
                  <FormControl>
                    <Switch
                      checked={field.value}
                      onCheckedChange={field.onChange}
                    />
                  </FormControl>
                </FormItem>
              )}
            />
          </CardContent>
        </Card>

        {/* Digest Options */}
        <Card>
          <CardHeader>
            <CardTitle>Summary Emails</CardTitle>
            <CardDescription>
              Receive periodic summaries of activity
            </CardDescription>
          </CardHeader>
          <CardContent className="space-y-4">
            <FormField
              control={form.control}
              name="daily_digest"
              render={({ field }) => (
                <FormItem className="flex items-center justify-between rounded-lg border p-4">
                  <div className="space-y-0.5">
                    <FormLabel className="text-base">
                      Daily Digest
                    </FormLabel>
                    <FormDescription>
                      Receive a daily summary email at 8:00 AM
                    </FormDescription>
                  </div>
                  <FormControl>
                    <Switch
                      checked={field.value}
                      onCheckedChange={field.onChange}
                    />
                  </FormControl>
                </FormItem>
              )}
            />

            <FormField
              control={form.control}
              name="weekly_summary"
              render={({ field }) => (
                <FormItem className="flex items-center justify-between rounded-lg border p-4">
                  <div className="space-y-0.5">
                    <FormLabel className="text-base">
                      Weekly Summary
                    </FormLabel>
                    <FormDescription>
                      Receive a weekly summary email on Mondays
                    </FormDescription>
                  </div>
                  <FormControl>
                    <Switch
                      checked={field.value}
                      onCheckedChange={field.onChange}
                    />
                  </FormControl>
                </FormItem>
              )}
            />
          </CardContent>
        </Card>

        <div className="flex justify-end">
          <Button type="submit" disabled={updatePreferences.isPending}>
            {updatePreferences.isPending && (
              <Loader2 className="mr-2 h-4 w-4 animate-spin" />
            )}
            Save Preferences
          </Button>
        </div>
      </form>
    </Form>
  )
}
```

**Verification**: File exists with preferences form component

### Task 5: Create activity feed component
**File**: `apps/admin/src/components/notifications/activity-feed.tsx`

```typescript
import { useNavigate } from 'react-router-dom'
import { Loader2 } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { ScrollArea } from '@/components/ui/scroll-area'
import { useRecentActivity, useActivityLogInfinite } from '@/hooks/use-activity-log'
import { ACTIVITY_ACTION_LABELS, ENTITY_TYPE_LABELS, ENTITY_TYPE_ROUTES } from '@/lib/constants/notifications'
import { formatNotificationTime } from '@/lib/helpers/notifications'
import type { ActivityLogEntry, ActivityEntityType } from '@/lib/types/notification'

interface ActivityFeedProps {
  limit?: number
  entityType?: ActivityEntityType
  showLoadMore?: boolean
  maxHeight?: string
}

function ActivityItem({ entry }: { entry: ActivityLogEntry }) {
  const navigate = useNavigate()

  const handleClick = () => {
    const route = ENTITY_TYPE_ROUTES[entry.entity_type]
    if (route && entry.entity_id) {
      navigate(`${route}/${entry.entity_id}`)
    }
  }

  const actionLabel = ACTIVITY_ACTION_LABELS[entry.action] ?? entry.action
  const entityLabel = ENTITY_TYPE_LABELS[entry.entity_type] ?? entry.entity_type

  return (
    <div
      onClick={handleClick}
      className="flex items-start gap-3 py-3 px-2 cursor-pointer hover:bg-muted/50 rounded-lg transition-colors"
    >
      {/* Timeline dot */}
      <div className="flex flex-col items-center">
        <div className="h-2 w-2 rounded-full bg-muted-foreground/30 mt-2" />
        <div className="w-px flex-1 bg-muted-foreground/20" />
      </div>

      {/* Content */}
      <div className="flex-1 min-w-0">
        <p className="text-sm">
          <span className="font-medium">{entry.user_name}</span>{' '}
          <span className="text-muted-foreground">{actionLabel}</span>{' '}
          <span className="font-medium">{entityLabel.toLowerCase()}</span>
          {entry.entity_name && (
            <>
              {' '}
              <span className="text-muted-foreground">&quot;</span>
              <span className="font-medium">{entry.entity_name}</span>
              <span className="text-muted-foreground">&quot;</span>
            </>
          )}
        </p>

        {/* Show changes if any */}
        {entry.changes && Object.keys(entry.changes).length > 0 && (
          <div className="mt-1 text-xs text-muted-foreground">
            Changed:{' '}
            {Object.keys(entry.changes)
              .slice(0, 3)
              .join(', ')}
            {Object.keys(entry.changes).length > 3 && '...'}
          </div>
        )}

        <p className="text-xs text-muted-foreground mt-1">
          {formatNotificationTime(entry.created_at)}
        </p>
      </div>
    </div>
  )
}

export function ActivityFeed({
  limit = 20,
  entityType,
  showLoadMore = false,
  maxHeight = '400px',
}: ActivityFeedProps) {
  const { data: simpleData, isLoading: simpleLoading } = useRecentActivity(limit)

  const {
    data: infiniteData,
    isLoading: infiniteLoading,
    fetchNextPage,
    hasNextPage,
    isFetchingNextPage,
  } = useActivityLogInfinite({
    entity_type: entityType,
    pageSize: limit,
  })

  const isLoading = showLoadMore ? infiniteLoading : simpleLoading
  const entries = showLoadMore
    ? infiniteData?.pages.flat() ?? []
    : simpleData ?? []

  if (isLoading) {
    return (
      <div className="flex items-center justify-center py-8">
        <Loader2 className="h-6 w-6 animate-spin text-muted-foreground" />
      </div>
    )
  }

  if (entries.length === 0) {
    return (
      <div className="flex flex-col items-center justify-center py-8 text-center">
        <p className="text-sm text-muted-foreground">No activity yet</p>
      </div>
    )
  }

  return (
    <div>
      <ScrollArea style={{ maxHeight }}>
        <div className="space-y-1 pr-4">
          {entries.map((entry) => (
            <ActivityItem key={entry.id} entry={entry} />
          ))}
        </div>
      </ScrollArea>

      {showLoadMore && hasNextPage && (
        <div className="flex justify-center pt-4">
          <Button
            variant="outline"
            size="sm"
            onClick={() => fetchNextPage()}
            disabled={isFetchingNextPage}
          >
            {isFetchingNextPage ? (
              <Loader2 className="h-4 w-4 animate-spin mr-2" />
            ) : null}
            Load more
          </Button>
        </div>
      )}
    </div>
  )
}

/**
 * Compact activity feed for cards/sidebars
 */
export function CompactActivityFeed({ limit = 5 }: { limit?: number }) {
  const navigate = useNavigate()
  const { data: entries = [], isLoading } = useRecentActivity(limit)

  if (isLoading) {
    return (
      <div className="flex items-center justify-center py-4">
        <Loader2 className="h-4 w-4 animate-spin text-muted-foreground" />
      </div>
    )
  }

  if (entries.length === 0) {
    return (
      <p className="text-sm text-muted-foreground text-center py-4">
        No recent activity
      </p>
    )
  }

  return (
    <div className="space-y-2">
      {entries.map((entry) => {
        const actionLabel = ACTIVITY_ACTION_LABELS[entry.action] ?? entry.action
        const entityLabel = ENTITY_TYPE_LABELS[entry.entity_type] ?? entry.entity_type

        return (
          <div
            key={entry.id}
            className="text-sm py-1"
          >
            <span className="font-medium">{entry.user_name}</span>{' '}
            <span className="text-muted-foreground">{actionLabel}</span>{' '}
            <span>{entityLabel.toLowerCase()}</span>
            <span className="text-xs text-muted-foreground ml-2">
              {formatNotificationTime(entry.created_at)}
            </span>
          </div>
        )
      })}
    </div>
  )
}
```

**Verification**: File exists with activity feed component

### Task 6: Create component index
**File**: `apps/admin/src/components/notifications/index.ts`

```typescript
export { NotificationBadge } from './notification-badge'
export { NotificationItem } from './notification-item'
export { NotificationDropdown } from './notification-dropdown'
export { NotificationPreferences } from './notification-preferences'
export { ActivityFeed, CompactActivityFeed } from './activity-feed'
```

**Verification**: Index file exports all components

## Verification

```bash
ls -la apps/admin/src/components/notifications/
```

## Files Created

| File | Description | Lines |
|------|-------------|-------|
| `components/notifications/notification-badge.tsx` | Badge with unread count | ~50 |
| `components/notifications/notification-item.tsx` | Single notification display | ~120 |
| `components/notifications/notification-dropdown.tsx` | Header dropdown | ~180 |
| `components/notifications/notification-preferences.tsx` | Settings form | ~250 |
| `components/notifications/activity-feed.tsx` | Activity timeline | ~180 |
| `components/notifications/index.ts` | Component exports | ~10 |

## Commit Message

```
feat(notifications): add notification UI components

- Add NotificationBadge with unread count indicator
- Add NotificationItem for individual notification display
- Add NotificationDropdown for header notification center
- Add NotificationPreferences form for settings
- Add ActivityFeed timeline component
```
